<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" href="./assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" href="./assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" href="./assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="manifest" href="./manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>notebook.py</marimo-filename>
    <marimo-mode data-mode='read' hidden></marimo-mode>
    <marimo-version data-version='0.11.25' hidden></marimo-version>
    <marimo-user-config data-config='{"completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "default_width": "medium", "theme": "system", "code_editor_font_size": 15, "dataframes": "rich"}, "formatting": {"line_length": 79}, "keymap": {"preset": "default", "overrides": {}}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "on_cell_change": "autorun", "watcher_on_save": "lazy", "output_max_bytes": 8000000, "std_stream_max_bytes": 1000000, "pythonpath": []}, "save": {"autosave": "off", "autosave_delay": 1000, "format_on_save": false}, "package_management": {"manager": "pip"}, "server": {"browser": "default", "follow_symlink": false}, "language_servers": {"pylsp": {"enabled": true, "enable_mypy": true, "enable_ruff": true, "enable_flake8": false, "enable_pydocstyle": false, "enable_pylint": false, "enable_pyflakes": false}}, "snippets": {"custom_paths": [], "include_default_snippets": true}}' data-overrides='{}' hidden></marimo-user-config>
    <marimo-app-config data-config='{"width": "medium"}' hidden></marimo-app-config>
    <marimo-server-token data-token='123' hidden></marimo-server-token>
    <title>capitalbikeshare-data-quick-analysis</title>
    <script type="module" crossorigin src="./assets/index-kAbxqOS5.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-DJC-HEWO.css">
  <marimo-wasm hidden=""></marimo-wasm>
    <script>
        if (window.location.protocol === 'file:') {
            alert('Warning: This file must be served by an HTTP server to function correctly.');
        }
    </script>
    
    <style>
        #save-button {
            display: none !important;
        }
        #filename-input {
            display: none !important;
        }
    </style>
    <marimo-code hidden="" data-show-code="false">import%20marimo%0A%0A__generated_with%20%3D%20%220.11.25%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20import%20zipfile%0A%20%20%20%20from%20io%20import%20BytesIO%0A%20%20%20%20import%20pyodide_http%20%20%23%20%E2%86%90%20Pyodide%E3%81%A7requests%E3%82%92%E6%9C%89%E5%8A%B9%E5%8C%96%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%0A%20%20%20%20import%20requests%0A%20%20%20%20import%20warnings%0A%20%20%20%20warnings.filterwarnings('ignore'%2C%20message%3D'Discarding%20nonzero%20nanoseconds%20in%20conversion.')%0A%0A%20%20%20%20%23%20Pyodide%E3%81%A7fetch%E5%AF%BE%E5%BF%9C%E3%81%AB%E5%88%87%E3%82%8A%E6%9B%BF%E3%81%88%0A%20%20%20%20pyodide_http.patch_all()%0A%0A%20%20%20%20%23%20GitHub%E4%B8%8A%E3%81%AB%E3%82%A2%E3%83%83%E3%83%97%E3%81%97%E3%81%9FZIP%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AEURL%0A%20%20%20%20url%20%3D%20%22https%3A%2F%2Fraw.githubusercontent.com%2FNorikazu68%2Fsample-data%2Fmain%2F202502-capitalbikeshare-tripdata.zip%22%0A%0A%20%20%20%20%23%20%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%97%E3%81%A6%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%0A%20%20%20%20response%20%3D%20requests.get(url)%0A%20%20%20%20zip_bytes%20%3D%20BytesIO(response.content)%0A%0A%20%20%20%20%23%20ZIP%E3%82%92%E5%B1%95%E9%96%8B%E3%81%97%E3%80%81CSV%E3%82%92pandas%E3%81%A7%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%82%80%0A%20%20%20%20with%20zipfile.ZipFile(zip_bytes)%20as%20z%3A%0A%20%20%20%20%20%20%20%20csv_files%20%3D%20%5Bname%20for%20name%20in%20z.namelist()%20if%20name.endswith('.csv')%20and%20'__MACOSX'%20not%20in%20name%5D%0A%20%20%20%20%20%20%20%20with%20z.open(csv_files%5B0%5D)%20as%20f%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20df%20%3D%20pd.read_csv(f)%0A%0A%20%20%20%20%23%20%E3%83%87%E3%83%BC%E3%82%BF%E5%9E%8B%E3%81%AE%E4%BF%AE%E6%AD%A3%0A%20%20%20%20df%5B'started_at'%5D%20%3D%20pd.to_datetime(df%5B'started_at'%5D)%0A%20%20%20%20df%5B'ended_at'%5D%20%3D%20pd.to_datetime(df%5B'ended_at'%5D)%0A%0A%20%20%20%20%23%20%E8%A1%A8%E7%A4%BA%0A%20%20%20%20print(df.shape)%0A%20%20%20%20df.head()%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20BytesIO%2C%0A%20%20%20%20%20%20%20%20csv_files%2C%0A%20%20%20%20%20%20%20%20df%2C%0A%20%20%20%20%20%20%20%20f%2C%0A%20%20%20%20%20%20%20%20pd%2C%0A%20%20%20%20%20%20%20%20pyodide_http%2C%0A%20%20%20%20%20%20%20%20requests%2C%0A%20%20%20%20%20%20%20%20response%2C%0A%20%20%20%20%20%20%20%20url%2C%0A%20%20%20%20%20%20%20%20warnings%2C%0A%20%20%20%20%20%20%20%20z%2C%0A%20%20%20%20%20%20%20%20zip_bytes%2C%0A%20%20%20%20%20%20%20%20zipfile%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(df)%3A%0A%20%20%20%20import%20random%0A%20%20%20%20import%20plotly.graph_objects%20as%20go%0A%0A%20%20%20%20%23%20%E3%83%A9%E3%83%B3%E3%83%80%E3%83%A0%E3%81%AB30%E5%80%8B%E3%81%AEride_id%E3%82%92%E9%81%B8%E6%8A%9E%0A%20%20%20%20random_ride_ids%20%3D%20random.sample(df%5B'ride_id'%5D.tolist()%2C%2030)%0A%20%20%20%20%23%20%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%9Fride_id%E3%81%AE%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%8A%BD%E5%87%BA%0A%20%20%20%20sample_df%20%3D%20df%5Bdf%5B'ride_id'%5D.isin(random_ride_ids)%5D%0A%20%20%20%20%23%20%E3%83%9E%E3%83%83%E3%83%97%E3%81%AE%E4%B8%AD%E5%BF%83%E3%82%92%E8%A8%88%E7%AE%97%0A%20%20%20%20center_lat%20%3D%20sample_df%5B%5B'start_lat'%2C%20'end_lat'%5D%5D.values.flatten().mean()%0A%20%20%20%20center_lng%20%3D%20sample_df%5B%5B'start_lng'%2C%20'end_lng'%5D%5D.values.flatten().mean()%0A%0A%20%20%20%20%23%20%E3%83%97%E3%83%AD%E3%83%83%E3%83%88%E7%94%A8%E3%81%AE%E3%83%AA%E3%82%B9%E3%83%88%E5%88%9D%E6%9C%9F%E5%8C%96%0A%20%20%20%20start_markers%20%3D%20%5B%5D%20%20%23%20%E5%A7%8B%E7%82%B9%E3%83%9E%E3%83%BC%E3%82%AB%E3%83%BC%0A%20%20%20%20end_markers%20%3D%20%5B%5D%20%20%20%20%23%20%E7%B5%82%E7%82%B9%E3%83%9E%E3%83%BC%E3%82%AB%E3%83%BC%0A%20%20%20%20path_lines%20%3D%20%5B%5D%20%20%20%20%20%23%20%E7%B5%8C%E8%B7%AF%E7%B7%9A%0A%0A%20%20%20%20%23%20%E5%90%84%E3%83%A9%E3%82%A4%E3%83%89%E3%81%AE%E7%B5%8C%E8%B7%AF%E3%81%A8%E3%83%9E%E3%83%BC%E3%82%AB%E3%83%BC%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E6%BA%96%E5%82%99%0A%20%20%20%20for%20_%2C%20ride%20in%20sample_df.iterrows()%3A%0A%20%20%20%20%20%20%20%20%23%20%E5%A7%8B%E7%82%B9%E3%83%9E%E3%83%BC%E3%82%AB%E3%83%BC(%E9%9D%92)%0A%20%20%20%20%20%20%20%20start_markers.append(go.Scattermap(%0A%20%20%20%20%20%20%20%20%20%20%20%20lat%3D%5Bride%5B'start_lat'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lon%3D%5Bride%5B'start_lng'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mode%3D'markers'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20marker%3Ddict(size%3D12%2C%20color%3D'green')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3Df%22Start%3A%20%7Bride%5B'ride_id'%5D%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hoverinfo%3D'text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20showlegend%3DFalse%0A%20%20%20%20%20%20%20%20))%0A%0A%20%20%20%20%20%20%20%20%23%20%E7%B5%82%E7%82%B9%E3%83%9E%E3%83%BC%E3%82%AB%E3%83%BC(%E8%B5%A4)%0A%20%20%20%20%20%20%20%20end_markers.append(go.Scattermap(%0A%20%20%20%20%20%20%20%20%20%20%20%20lat%3D%5Bride%5B'end_lat'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lon%3D%5Bride%5B'end_lng'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mode%3D'markers'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20marker%3Ddict(size%3D12%2C%20color%3D'red')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3Df%22End%3A%20%7Bride%5B'ride_id'%5D%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hoverinfo%3D'text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20showlegend%3DFalse%0A%20%20%20%20%20%20%20%20))%0A%0A%20%20%20%20%20%20%20%20%23%20%E7%B5%8C%E8%B7%AF%E7%B7%9A%0A%20%20%20%20%20%20%20%20path_lines.append(go.Scattermap(%0A%20%20%20%20%20%20%20%20%20%20%20%20lat%3D%5Bride%5B'start_lat'%5D%2C%20ride%5B'end_lat'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lon%3D%5Bride%5B'start_lng'%5D%2C%20ride%5B'end_lng'%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mode%3D'lines'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20line%3Ddict(width%3D1.8%2C%20color%3D'blue')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3D0.5%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20text%3Df%22Ride%20ID%3A%20%7Bride%5B'ride_id'%5D%7D%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hoverinfo%3D'text'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20showlegend%3DFalse%0A%20%20%20%20%20%20%20%20))%0A%0A%20%20%20%20%23%20%E3%81%99%E3%81%B9%E3%81%A6%E3%81%AE%E3%83%88%E3%83%AC%E3%83%BC%E3%82%B9%E3%82%92%E7%B5%90%E5%90%88%0A%20%20%20%20data%20%3D%20start_markers%20%2B%20end_markers%20%2B%20path_lines%0A%0A%20%20%20%20%23%20%E3%83%AC%E3%82%A4%E3%82%A2%E3%82%A6%E3%83%88%E8%A8%AD%E5%AE%9A%20-%20MapLibre%E7%94%A8%E3%81%AB%E6%9B%B4%E6%96%B0%0A%20%20%20%20layout%20%3D%20go.Layout(%0A%20%20%20%20%20%20%20%20map%3Ddict(%20%20%23%20mapbox%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%8Fmap%E3%82%92%E4%BD%BF%E7%94%A8%0A%20%20%20%20%20%20%20%20%20%20%20%20style%3D%22open-street-map%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20center%3Ddict(lat%3Dcenter_lat%2C%20lon%3Dcenter_lng)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20zoom%3D12%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20margin%3Ddict(l%3D0%2C%20r%3D0%2C%20t%3D0%2C%20b%3D0)%0A%20%20%20%20)%0A%0A%20%20%20%20%23%20%E5%9B%B3%E3%81%AE%E4%BD%9C%E6%88%90%0A%20%20%20%20fig%20%3D%20go.Figure(data%3Ddata%2C%20layout%3Dlayout)%0A%0A%20%20%20%20%23%20%E5%9B%B3%E3%82%92%E8%A1%A8%E7%A4%BA%0A%20%20%20%20fig.show()%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20center_lat%2C%0A%20%20%20%20%20%20%20%20center_lng%2C%0A%20%20%20%20%20%20%20%20data%2C%0A%20%20%20%20%20%20%20%20end_markers%2C%0A%20%20%20%20%20%20%20%20fig%2C%0A%20%20%20%20%20%20%20%20go%2C%0A%20%20%20%20%20%20%20%20layout%2C%0A%20%20%20%20%20%20%20%20path_lines%2C%0A%20%20%20%20%20%20%20%20random%2C%0A%20%20%20%20%20%20%20%20random_ride_ids%2C%0A%20%20%20%20%20%20%20%20ride%2C%0A%20%20%20%20%20%20%20%20sample_df%2C%0A%20%20%20%20%20%20%20%20start_markers%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%20%E6%8E%A2%E7%B4%A2%E7%9A%84%E5%88%86%E6%9E%90%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E7%94%9F%E6%88%90%0A%20%20%20%20%20%20%20%20%3E%E3%82%AD%E3%83%A3%E3%83%94%E3%82%BF%E3%83%AB%E3%83%BB%E3%83%90%E3%82%A4%E3%82%AF%E3%82%B7%E3%82%A7%E3%82%A2%E3%81%AE%E3%83%A9%E3%82%A4%E3%83%80%E3%83%BC%E3%81%AF%E3%81%A9%E3%81%93%E3%81%AB%E8%A1%8C%E3%81%8F%E3%81%AE%E3%81%8B%EF%BC%9F%E3%81%84%E3%81%A4%E4%B9%97%E3%82%8B%E3%81%AE%E3%81%8B%EF%BC%9F%E3%81%A9%E3%81%AE%E3%81%8F%E3%82%89%E3%81%84%E3%81%AE%E8%B7%9D%E9%9B%A2%E3%82%92%E8%B5%B0%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AE%E3%81%8B%EF%BC%9F%E6%9C%80%E3%82%82%E4%BA%BA%E6%B0%97%E3%81%AE%E3%81%82%E3%82%8B%E3%82%B9%E3%83%86%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AF%EF%BC%9F%E4%BD%95%E6%9B%9C%E6%97%A5%E3%81%AB%E5%A4%9A%E3%81%8F%E5%88%A9%E7%94%A8%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B%E3%81%AE%E3%81%8B%EF%BC%9F%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E7%90%86%E8%A7%A3%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E5%88%86%E6%9E%90%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E7%94%9F%E6%88%90%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df)%3A%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20matplotlib.pyplot%20as%20plt%0A%20%20%20%20import%20seaborn%20as%20sns%0A%20%20%20%20from%20datetime%20import%20datetime%2C%20timedelta%0A%20%20%20%20import%20calendar%0A%0A%20%20%20%20%23%20%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%EF%BC%88%E5%88%86%EF%BC%89%E3%82%92%E8%A8%88%E7%AE%97%0A%20%20%20%20df%5B'ride_duration_min'%5D%20%3D%20(df%5B'ended_at'%5D%20-%20df%5B'started_at'%5D).dt.total_seconds()%20%2F%2060%0A%0A%20%20%20%20%23%20%E6%9B%9C%E6%97%A5%E3%82%92%E8%BF%BD%E5%8A%A0%0A%20%20%20%20df%5B'day_of_week'%5D%20%3D%20df%5B'started_at'%5D.dt.day_name()%0A%20%20%20%20df%5B'hour_of_day'%5D%20%3D%20df%5B'started_at'%5D.dt.hour%0A%0A%20%20%20%20%23%20%E7%95%B0%E5%B8%B8%E5%80%A4%E3%81%AE%E9%99%A4%E5%A4%96%EF%BC%88%E4%BE%8B%3A%2024%E6%99%82%E9%96%93%E4%BB%A5%E4%B8%8A%E3%81%AE%E4%B9%97%E8%BB%8A%E3%82%84%E8%B2%A0%E3%81%AE%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%EF%BC%89%0A%20%20%20%20df_anal%20%3D%20df%5B(df%5B'ride_duration_min'%5D%20%3E%200)%20%26%20(df%5B'ride_duration_min'%5D%20%3C%2024*60)%5D%0A%20%20%20%20return%20calendar%2C%20datetime%2C%20df_anal%2C%20np%2C%20plt%2C%20sns%2C%20timedelta%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%201.%20%E6%99%82%E9%96%93%E5%B8%AF%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%201.%20%E6%99%82%E9%96%93%E5%B8%AF%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20plt.figure(figsize%3D(12%2C%206))%0A%20%20%20%20hourly_rides%20%3D%20df_anal.groupby('hour_of_day').size()%0A%20%20%20%20sns.barplot(x%3Dhourly_rides.index%2C%20y%3Dhourly_rides.values)%0A%20%20%20%20plt.title('Hourly%20Distribution%20of%20Rides')%0A%20%20%20%20plt.xlabel('Hour%20of%20Day')%0A%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(hourly_rides%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23%23%202.%20%E6%9B%9C%E6%97%A5%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%202.%20%E6%9B%9C%E6%97%A5%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20plt.figure(figsize%3D(12%2C%206))%0A%20%20%20%20%23%20%E6%9B%9C%E6%97%A5%E3%82%92%E6%AD%A3%E3%81%97%E3%81%84%E9%A0%86%E5%BA%8F%E3%81%A7%E4%B8%A6%E3%81%B9%E3%82%8B%0A%20%20%20%20days_order%20%3D%20%5B'Monday'%2C%20'Tuesday'%2C%20'Wednesday'%2C%20'Thursday'%2C%20'Friday'%2C%20'Saturday'%2C%20'Sunday'%5D%0A%20%20%20%20daily_rides%20%3D%20df_anal%5B'day_of_week'%5D.value_counts().reindex(days_order)%0A%20%20%20%20sns.barplot(x%3Ddaily_rides.index%2C%20y%3Ddaily_rides.values)%0A%20%20%20%20plt.title('Daily%20Distribution%20of%20Rides')%0A%20%20%20%20plt.xlabel('Day%20of%20Week')%0A%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20plt.xticks(rotation%3D45)%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20daily_rides%2C%20days_order%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%203.%20%E6%9C%80%E3%82%82%E4%BA%BA%E6%B0%97%E3%81%AE%E3%81%82%E3%82%8B%E5%87%BA%E7%99%BA%E9%A7%85%E3%83%88%E3%83%83%E3%83%9710%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%203.%20%E6%9C%80%E3%82%82%E4%BA%BA%E6%B0%97%E3%81%AE%E3%81%82%E3%82%8B%E5%87%BA%E7%99%BA%E9%A7%85%E3%83%88%E3%83%83%E3%83%9710%0A%20%20%20%20plt.figure(figsize%3D(14%2C%208))%0A%20%20%20%20top_start_stations%20%3D%20df_anal%5B'start_station_name'%5D.value_counts().head(10)%0A%20%20%20%20sns.barplot(x%3Dtop_start_stations.values%2C%20y%3Dtop_start_stations.index)%0A%20%20%20%20plt.title('Top%2010%20Popular%20Start%20Stations')%0A%20%20%20%20plt.xlabel('Number%20of%20Rides')%0A%20%20%20%20plt.ylabel('Station%20Name')%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(top_start_stations%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%204.%20%E6%9C%80%E3%82%82%E4%BA%BA%E6%B0%97%E3%81%AE%E3%81%82%E3%82%8B%E5%88%B0%E7%9D%80%E9%A7%85%E3%83%88%E3%83%83%E3%83%9710%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%204.%20%E6%9C%80%E3%82%82%E4%BA%BA%E6%B0%97%E3%81%AE%E3%81%82%E3%82%8B%E5%88%B0%E7%9D%80%E9%A7%85%E3%83%88%E3%83%83%E3%83%9710%0A%20%20%20%20plt.figure(figsize%3D(14%2C%208))%0A%20%20%20%20top_end_stations%20%3D%20df_anal%5B'end_station_name'%5D.value_counts().head(10)%0A%20%20%20%20sns.barplot(x%3Dtop_end_stations.values%2C%20y%3Dtop_end_stations.index)%0A%20%20%20%20plt.title('Top%2010%20Popular%20End%20Stations')%0A%20%20%20%20plt.xlabel('Number%20of%20Rides')%0A%20%20%20%20plt.ylabel('Station%20Name')%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(top_end_stations%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%205.%20%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%E3%81%AE%E5%88%86%E5%B8%83%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%205.%20%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%E3%81%AE%E5%88%86%E5%B8%83%0A%20%20%20%20plt.figure(figsize%3D(12%2C%206))%0A%20%20%20%20sns.histplot(df_anal%5B'ride_duration_min'%5D%2C%20bins%3D50%2C%20kde%3DTrue)%0A%20%20%20%20plt.title('Distribution%20of%20Ride%20Duration')%0A%20%20%20%20plt.xlabel('Ride%20Duration%20(minutes)')%0A%20%20%20%20plt.ylabel('Frequency')%0A%20%20%20%20plt.xlim(0%2C%2060)%20%20%23%201%E6%99%82%E9%96%93%E4%BB%A5%E5%86%85%E3%81%AE%E4%B9%97%E8%BB%8A%E3%81%AB%E7%84%A6%E7%82%B9%E3%82%92%E5%BD%93%E3%81%A6%E3%82%8B%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%206.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%206.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20plt.figure(figsize%3D(10%2C%206))%0A%20%20%20%20member_counts%20%3D%20df_anal%5B'member_casual'%5D.value_counts()%0A%20%20%20%20sns.barplot(x%3Dmember_counts.index%2C%20y%3Dmember_counts.values)%0A%20%20%20%20plt.title('Rides%20by%20Member%20Type')%0A%20%20%20%20plt.xlabel('Member%20Type')%0A%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(member_counts%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%207.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E6%9B%9C%E6%97%A5%E5%88%A5%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(days_order%2C%20df_anal%2C%20plt)%3A%0A%20%20%20%20%23%207.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E6%9B%9C%E6%97%A5%E5%88%A5%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20plt.figure(figsize%3D(14%2C%208))%0A%20%20%20%20member_day_counts%20%3D%20df_anal.groupby(%5B'day_of_week'%2C%20'member_casual'%5D).size().unstack()%0A%20%20%20%20member_day_counts%20%3D%20member_day_counts.reindex(days_order)%0A%20%20%20%20member_day_counts.plot(kind%3D'bar'%2C%20figsize%3D(14%2C%208))%0A%20%20%20%20plt.title('Rides%20by%20Day%20of%20Week%20and%20Member%20Type')%0A%20%20%20%20plt.xlabel('Day%20of%20Week')%0A%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20plt.legend(title%3D'Member%20Type')%0A%20%20%20%20plt.xticks(rotation%3D45)%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(member_day_counts%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%208.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%E3%81%AE%E6%AF%94%E8%BC%83%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%208.%20%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%94%E3%81%A8%E3%81%AE%E4%B9%97%E8%BB%8A%E6%99%82%E9%96%93%E3%81%AE%E6%AF%94%E8%BC%83%0A%20%20%20%20plt.figure(figsize%3D(10%2C%206))%0A%20%20%20%20sns.boxplot(x%3D'member_casual'%2C%20y%3D'ride_duration_min'%2C%20data%3Ddf_anal)%0A%20%20%20%20plt.title('Ride%20Duration%20by%20Member%20Type')%0A%20%20%20%20plt.xlabel('Member%20Type')%0A%20%20%20%20plt.ylabel('Ride%20Duration%20(minutes)')%0A%20%20%20%20plt.ylim(0%2C%2060)%20%20%23%201%E6%99%82%E9%96%93%E4%BB%A5%E5%86%85%E3%81%AE%E4%B9%97%E8%BB%8A%E3%81%AB%E7%84%A6%E7%82%B9%E3%82%92%E5%BD%93%E3%81%A6%E3%82%8B%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%209.%20%E6%99%82%E9%96%93%E5%B8%AF%E5%88%A5%E3%83%BB%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(df_anal%2C%20plt)%3A%0A%20%20%20%20%23%209.%20%E6%99%82%E9%96%93%E5%B8%AF%E5%88%A5%E3%83%BB%E4%BC%9A%E5%93%A1%E7%A8%AE%E5%88%A5%E3%81%AE%E5%88%A9%E7%94%A8%E7%8A%B6%E6%B3%81%0A%20%20%20%20plt.figure(figsize%3D(14%2C%208))%0A%20%20%20%20hourly_member_counts%20%3D%20df_anal.groupby(%5B'hour_of_day'%2C%20'member_casual'%5D).size().unstack()%0A%20%20%20%20hourly_member_counts.plot(kind%3D'bar'%2C%20stacked%3DTrue%2C%20figsize%3D(14%2C%208))%0A%20%20%20%20plt.title('Hourly%20Rides%20by%20Member%20Type')%0A%20%20%20%20plt.xlabel('Hour%20of%20Day')%0A%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20plt.legend(title%3D'Member%20Type')%0A%20%20%20%20plt.gca()%0A%20%20%20%20return%20(hourly_member_counts%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%2010.%20%E6%9C%88%E9%96%93%E3%81%AE%E5%88%A9%E7%94%A8%E5%82%BE%E5%90%91%EF%BC%88%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8C%E8%A4%87%E6%95%B0%E6%9C%88%E3%81%82%E3%82%8B%E5%A0%B4%E5%90%88%EF%BC%89%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(calendar%2C%20df_anal%2C%20plt%2C%20sns)%3A%0A%20%20%20%20%23%2010.%20%E6%9C%88%E9%96%93%E3%81%AE%E5%88%A9%E7%94%A8%E5%82%BE%E5%90%91%EF%BC%88%E3%83%87%E3%83%BC%E3%82%BF%E3%81%8C%E8%A4%87%E6%95%B0%E6%9C%88%E3%81%82%E3%82%8B%E5%A0%B4%E5%90%88%EF%BC%89%0A%20%20%20%20if%20df_anal%5B'started_at'%5D.dt.month.nunique()%20%3E%201%3A%0A%20%20%20%20%20%20%20%20plt.figure(figsize%3D(12%2C%206))%0A%20%20%20%20%20%20%20%20monthly_rides%20%3D%20df_anal.groupby(df_anal%5B'started_at'%5D.dt.month).size()%0A%20%20%20%20%20%20%20%20month_names%20%3D%20%5Bcalendar.month_name%5Bi%5D%20for%20i%20in%20monthly_rides.index%5D%0A%20%20%20%20%20%20%20%20sns.barplot(x%3Dmonth_names%2C%20y%3Dmonthly_rides.values)%0A%20%20%20%20%20%20%20%20plt.title('Monthly%20Distribution%20of%20Rides')%0A%20%20%20%20%20%20%20%20plt.xlabel('Month')%0A%20%20%20%20%20%20%20%20plt.ylabel('Number%20of%20Rides')%0A%20%20%20%20%20%20%20%20plt.xticks(rotation%3D45)%0A%20%20%20%20%20%20%20%20plt.gca()%0A%20%20%20%20return%20month_names%2C%20monthly_rides%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A</marimo-code></head>
  <body>
    <div id="root"></div>
  </body>
</html>
